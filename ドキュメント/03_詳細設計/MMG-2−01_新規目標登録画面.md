|ID|画面名|URL|
|----|----|----|
|MMG-2-01|新規目標登録画面|/new_goal_registration|

## レイアウト
![レイアウト](../02_基本設計/images/MMG-2-01.jpg)

## 項目一覧
|No|項目名|種類|必須|文字数|文字種|出力|物理名|イベント|画面遷移|補足|
|----|----|----|----|----|----|----|----|----|----|----|
||共通ヘッダー|エリア|-|-|-|-|-|-|-|-|
||画面タイトル|テキスト|-|-|-|-|-|-|-|-|
||目標タイトル|テキストボックス|○|~100|-|-|goal_title|-|-|-|
||達成のための行動|テキストボックス|○|~999|-|-|action|-|-|-|
||達成期限|日付選択|○|-|-|-|deadline|-|-|本日以前の日付は選択不可|
||登録ボタン|ボタン|-|-|-|-|-|E-07|-|-|



## イベント一覧
### E-00 初期表示
1. ログイン認証
    * 共通処理のログイン認証を呼び出す
        1. 認証結果がFalseの場合
            * ログイン画面にリダイレクトする
        2. 認証結果がTrueの場合
            * 2の処理に進む
2. 処理終了

### E-07 新規目標登録
1. 必須項目チェック
    * 未入力項目がある場合、テキストボックス上に赤文字でアラートを表示する。
    * `必須項目です`
2. 登録を実施
    1. `user_id`に`session[session_login_user]`を格納する
    2. SQLを実施
        ```SQL
        INSERT INTO goals (user_id,goal_title,action,deadline,created_at, updated_at) 
        VALUES ('{user_id}','{goal_title}','{action}','{deadline}',NOW(),NOW());
        ```
    2. レコードの作成に成功したらTrue,それ以外はFalseを返却する
        1. 返却値がTrue:成功の場合
            * MMG-2-03_目標一覧画面に遷移し、新規登録に成功したメッセージを表示する
            * `目標登録に成功しました`
        2. False:失敗の場合
            * 予期せぬエラーが発生したメッセージを表示する
            * `予期せぬエラーが発生しました`
3. 処理終了